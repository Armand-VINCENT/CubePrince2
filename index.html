<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>cubeprince</title>
    <script type="module" src="/src/main.js"></script>
  </head>
  <body>
    <a-scene>
      <!-- Caméra et contrôles VR -->
      <a-entity id="camera-rig" position="0 0.3 0">
        <a-camera look-controls wasd-controls="acceleration: 20"></a-camera>

        <!-- Main gauche VR -->
        <a-entity
          id="left-hand"
          hand-controls="hand: left"
          laser-controls="hand: left"
          raycaster="objects: .clickable; far: 10"
        ></a-entity>

        <!-- Main droite VR -->
        <a-entity
          id="right-hand"
          hand-controls="hand: right"
          laser-controls="hand: right"
          raycaster="objects: .clickable; far: 10"
        ></a-entity>
      </a-entity>

      <!-- Dôme pour l'ambiance lumineuse -->
      <a-sky id="dome" color="#87CEEB" radius="30"></a-sky>

      <!-- Lumières -->
      <a-entity
        id="sun"
        light="type: directional; color: #FFF; intensity: 1"
        position="5 10 5"
      ></a-entity>
      <a-light type="ambient" color="#445" intensity="0.5"></a-light>

      <!-- MONDE 1: DÉSERT -->
      <a-entity id="desert-world" position="-1.78312 0 0">
        <!-- Sol désert (modèle 3D) -->
        <a-entity
          gltf-model="./models/Desert.glb"
          scale="0.25 0.25 0.25"
        ></a-entity>

        <!-- Modèle avion cliquable -->
        <a-entity
          id="airplane"
          gltf-model="./models/Airplane.glb"
          position="0 0.5 -3"
          scale="1 1 1"
          class="clickable"
        >
        </a-entity>

        <!-- Lune dans le ciel -->
        <a-entity
          id="moon"
          gltf-model="./models/Moon.glb"
          position="8 15 -10"
          scale="2 2 2"
        ></a-entity>
      </a-entity>

      <!-- MONDE 2: SURFACE DE LA LUNE -->
      <a-entity id="moon-world" position="8 15 -10" visible="false">
        <!-- Sphère lunaire (surface) -->
        <a-sphere
          position="0 0 0"
          radius="5"
          color="#A0A0A0"
          segments-height="18"
          segments-width="36"
        ></a-sphere>

        <!-- Lumières sur la Lune -->
        <a-light
          type="point"
          color="#FFF"
          intensity="2"
          position="0 8 0"
          distance="25"
        ></a-light>
        <a-light type="ambient" color="#8899BB" intensity="1"></a-light>

        <!-- Rose collée sur la surface de la sphère -->
        <a-entity
          id="rose"
          gltf-model="./models/Rose.glb"
          position="0 5.3 0"
          scale="0.8 0.8 0.8"
          class="clickable"
        >
        </a-entity>

        <!-- Texte poétique -->
        <a-text
          id="rose-text"
          value="La rose..."
          position="0 7 0"
          align="center"
          color="#FFD700"
          width="6"
          opacity="0"
        ></a-text>

        <!-- Étoiles scintillantes -->
        <a-sphere position="5 8 -5" radius="0.05" color="#FFF" opacity="0.9"
          animation="property: opacity; from: 0.3; to: 1; dir: alternate; loop: true; dur: 2000; easing: easeInOutSine">
        </a-sphere>
        <a-sphere position="-6 10 3" radius="0.04" color="#FFF" opacity="0.8"
          animation="property: opacity; from: 0.4; to: 1; dir: alternate; loop: true; dur: 1500; easing: easeInOutSine">
        </a-sphere>
        <a-sphere position="3 12 -8" radius="0.06" color="#FFF" opacity="0.9"
          animation="property: opacity; from: 0.5; to: 1; dir: alternate; loop: true; dur: 2500; easing: easeInOutSine">
        </a-sphere>
        <a-sphere position="-4 6 -6" radius="0.03" color="#FFF" opacity="0.7"
          animation="property: opacity; from: 0.3; to: 0.9; dir: alternate; loop: true; dur: 1800; easing: easeInOutSine">
        </a-sphere>
        <a-sphere position="7 9 2" radius="0.05" color="#FFF" opacity="0.85"
          animation="property: opacity; from: 0.4; to: 1; dir: alternate; loop: true; dur: 2200; easing: easeInOutSine">
        </a-sphere>
        <a-sphere position="-5 11 -3" radius="0.04" color="#FFF" opacity="0.8"
          animation="property: opacity; from: 0.35; to: 0.95; dir: alternate; loop: true; dur: 1900; easing: easeInOutSine">
        </a-sphere>
        <a-sphere position="4 7 -10" radius="0.05" color="#FFF" opacity="0.9"
          animation="property: opacity; from: 0.5; to: 1; dir: alternate; loop: true; dur: 2100; easing: easeInOutSine">
        </a-sphere>
        <a-sphere position="-7 8 4" radius="0.04" color="#FFF" opacity="0.75"
          animation="property: opacity; from: 0.3; to: 0.9; dir: alternate; loop: true; dur: 1700; easing: easeInOutSine">
        </a-sphere>
        <a-sphere position="6 13 -4" radius="0.06" color="#FFF" opacity="0.9"
          animation="property: opacity; from: 0.45; to: 1; dir: alternate; loop: true; dur: 2400; easing: easeInOutSine">
        </a-sphere>
        <a-sphere position="-3 9 5" radius="0.03" color="#FFF" opacity="0.7"
          animation="property: opacity; from: 0.35; to: 0.85; dir: alternate; loop: true; dur: 1600; easing: easeInOutSine">
        </a-sphere>
      </a-entity>
      </a-entity>

      <!-- MONDE 3: CHAMP DE FLEURS -->
      <a-entity id="flower-world" position="0 0 0" visible="false">
        <!-- Sphère herbeusée -->
        <a-sphere
          position="0 0 0"
          radius="15"
          color="#7CFC00"
          segments-height="24"
          segments-width="48"
        ></a-sphere>

        <!-- Lumières sur la sphère -->
        <a-light
          type="point"
          color="#FFF"
          intensity="2"
          position="0 20 0"
          distance="40"
        ></a-light>
        <a-light type="ambient" color="#FFEB99" intensity="1.2"></a-light>

        <!-- Renard collé à la surface. -->
       <a-entity id="fox" gltf-model="./models/Foxv2.glb" position="0 16.20685 0" scale="0.8 0.8 0.8">
        </a-entity>

        <!-- Soleil face à la sphère. -->
       <a-entity id="sun-entity" position="0.19208 4.36791 -14.48412">
         <a-entity 
           gltf-model="./models/Sun.glb" 
           scale="0.1 0.1 0.1" 
           rotation="0 90 0"
         ></a-entity>
         
         <!-- Lumière émissive du soleil -->
         <a-light 
           type="point" 
           color="#FFA500" 
           intensity="3" 
           distance="15"
         ></a-light>
         
         <!-- Sphère lumineuse autour du soleil pour effet de glow -->
         <a-sphere 
           radius="0.15" 
           material="shader: flat; color: #FFD700; opacity: 0.4; transparent: true"
         ></a-sphere>
       </a-entity>
      </a-entity>

      <!-- Curseur pour l'interaction -->
      <a-entity
        cursor="rayOrigin: mouse"
        raycaster="objects: .clickable"
      ></a-entity>
    </a-scene>
  </body>
</html>
